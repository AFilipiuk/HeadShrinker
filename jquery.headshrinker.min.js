(function(e){"use strict";e.fn.headshrinker=function(r){var n={target:jQuery(this),zindex:99999,shrinkBy:2,fontSize:"",shrinkMenu:!1,shrinkMenuAlign:"right",menuSwitch:768,navTarget:"nav",mobileMenu:!1},r=e.extend(n,r);return this.each(function(){function e(){function e(){j.css("display","block").stop().animate({top:0},500)}function r(){if(m>=h){if("none"===j.css("display"))return!1;j.stop().animate({top:-Q},300,function(){j.css("display","none")})}}function d(){clearTimeout(y),y=setTimeout(p,25)}function p(){var n=c.scrollTop();m=window.innerWidth||document.documentElement.clientWidth,j.css("width",m),n>=Q-50?e():r()}function l(){jQuery(".headshrinker-reveal",j).remove(),jQuery(".headshrinker-menu",j).remove(),jQuery(u,j).hide(),l===!0||h>=m?(jQuery(j).append('<a class="headshrinker-reveal hs-reveal-'+a+'" href="#nav" style="top:'+f+'px !important">Show Menu</a><div class="headshrinker-menu" />'),jQuery(".headshrinker-menu",j).css("top",Q).css("max-height",c.height()).html(g).hide(),jQuery(".headshrinker-menu ul ul",j).each(function(){jQuery(this).children().length&&(jQuery(this).hide(),jQuery(this,"li:first").parent().append('<a class="headshrinker-expand" href="#">+</a>'))}),jQuery(".headshrinker-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("headshrinker-clicked")?(jQuery(this).text("+"),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text("-"),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("headshrinker-clicked")}),jQuery(".headshrinker-reveal",j).html("<span /><span /><span />"),jQuery(".headshrinker-reveal",j).on("click",function(e){e.preventDefault(),jQuery(this).toggleClass(".headshrinker-on"),jQuery(".headshrinker-menu",j).toggle()})):jQuery(u,j).show(),o===!0&&h>=m?(n.hide(),e(),jQuery("body").animate({marginTop:Q+"px"},500)):(n.show(),jQuery("body").animate({marginTop:0},100))}jQuery("body").addClass("headshrinker");var y,j=jQuery(n).clone().css("position","fixed").addClass("headshrunk"),m=(jQuery("header").outerHeight(),window.innerWidth||document.documentElement.clientWidth);c.load(function(){jQuery(" img",j).height(jQuery("img",j).height()/t);var e=jQuery(j).css("padding-top").replace("px","").replace("em",""),r=jQuery(j).css("padding-bottom").replace("px","").replace("em","");jQuery(j).css("padding-top",e/t),jQuery(j).css("padding-bottom",r/t),jQuery(" *",j).each(function(){var e=jQuery(this).css("padding-top").replace("px","").replace("em",""),r=jQuery(this).css("padding-bottom").replace("px","").replace("em",""),n=jQuery(this).css("margin-top").replace("px","").replace("em",""),i=jQuery(this).css("margin-bottom").replace("px","").replace("em","");jQuery(this).css("padding-top",e/t),jQuery(this).css("padding-bottom",r/t),jQuery(this).css("margin-top",n/t),jQuery(this).css("margin-top",i/t)})}),j.css("width",m).prependTo("body");var Q=j.outerHeight();j.css("top",-Q).css("z-index",i),s&&jQuery(" *",j).each(function(){jQuery(this).css("font-size",s)});var g=jQuery(u,j).hide().html(),Q=j.outerHeight()/t,f=(Q-44)/2;l(),c.on("scroll",d),c.on("resize",d),c.on("resize",l)}var n=r.target,i=r.zindex,t=r.shrinkBy,s=r.fontSize;r.shrinkMenu;var a=r.shrinkMenuAlign,h=r.menuSwitch,u=r.navTarget,o=r.mobileMenu,c=jQuery(window);e()})}})(jQuery);
